<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>EskiÅŸehir Hava Durumu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:linear-gradient(to bottom,#1e90ff,#00c6ff);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.kutu{
  width:440px;
  background:rgba(0,0,0,0.35);
  padding:20px;
  border-radius:20px;
  box-shadow:0 0 25px rgba(0,0,0,0.4);
}

h2{text-align:center;margin:0}
.konum{text-align:center;font-size:14px;opacity:0.9;margin-bottom:10px}

.bolum{
  background:rgba(255,255,255,0.15);
  padding:10px;
  border-radius:10px;
  margin-bottom:8px;
}

.buyuk{
  font-size:28px;
  font-weight:bold;
}

.liste div{
  display:flex;
  justify-content:space-between;
  margin:3px 0;
}
</style>
</head>

<body>

<div class="kutu">
  <h2>ğŸŒ¦ï¸ Hava Durumu</h2>
  <div class="konum">ğŸ“ EskiÅŸehir â€“ BoyacÄ±oÄŸlu Mahallesi</div>

  <!-- ANLIK -->
  <div class="bolum" id="anlik">YÃ¼kleniyor...</div>

  <!-- GÃœNLER -->
  <div class="bolum" id="bugun"></div>
  <div class="bolum" id="yarin"></div>
  <div class="bolum" id="ikiGun"></div>

  <!-- EVET / HAYIR -->
  <div class="bolum liste" id="kontrol"></div>
</div>

<script>
function evetHayir(x){ return x ? "EVET âœ…" : "HAYIR âŒ"; }

function yazi(k){
  if(k===0) return "â˜€ï¸ GÃ¼neÅŸli";
  if([1,2].includes(k)) return "â›… ParÃ§alÄ± bulutlu";
  if(k===3) return "â˜ï¸ Bulutlu";
  if([45,48].includes(k)) return "ğŸŒ«ï¸ Sisli";
  if([61,63,65].includes(k)) return "ğŸŒ§ï¸ YaÄŸmurlu";
  if([80,81,82].includes(k)) return "ğŸŒ¦ï¸ SaÄŸanak";
  if([71,73,75,85,86].includes(k)) return "â„ï¸ KarlÄ±";
  if([68].includes(k)) return "ğŸŒ¨ï¸ Karla karÄ±ÅŸÄ±k yaÄŸmur";
  if([95,96,99].includes(k)) return "â›ˆï¸ GÃ¶k gÃ¼rÃ¼ltÃ¼lÃ¼";
  return "ğŸŒ¬ï¸ DiÄŸer";
}

// SABÄ°T KONUM
const lat = 39.7767;
const lon = 30.5206;

fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&daily=weathercode,temperature_2m_max,temperature_2m_min&timezone=Europe/Istanbul`)
.then(r=>r.json())
.then(d=>{

  // ANLIK
  const ck = d.current_weather.weathercode;
  const ws = d.current_weather.windspeed;

  document.getElementById("anlik").innerHTML = `
    <div>Åu An</div>
    <div class="buyuk">${d.current_weather.temperature}Â°C</div>
    ${yazi(ck)}
  `;

  // GÃœNLER (HER GÃœN OTOMATÄ°K DEÄÄ°ÅÄ°R)
  document.getElementById("bugun").innerHTML =
    `BugÃ¼n: ${yazi(d.daily.weathercode[0])} | ğŸŒ¡ ${d.daily.temperature_2m_min[0]}Â° / ${d.daily.temperature_2m_max[0]}Â°`;

  document.getElementById("yarin").innerHTML =
    `YarÄ±n: ${yazi(d.daily.weathercode[1])} | ğŸŒ¡ ${d.daily.temperature_2m_min[1]}Â° / ${d.daily.temperature_2m_max[1]}Â°`;

  document.getElementById("ikiGun").innerHTML =
    `2 GÃ¼n Sonra: ${yazi(d.daily.weathercode[2])} | ğŸŒ¡ ${d.daily.temperature_2m_min[2]}Â° / ${d.daily.temperature_2m_max[2]}Â°`;

  // EVET / HAYIR (ANLIK)
  document.getElementById("kontrol").innerHTML = `
    <div>â˜€ï¸ GÃ¼neÅŸli ${evetHayir(ck===0)}</div>
    <div>â›… ParÃ§alÄ± bulutlu ${evetHayir([1,2].includes(ck))}</div>
    <div>â˜ï¸ Bulutlu ${evetHayir(ck===3)}</div>
    <div>ğŸŒ§ï¸ YaÄŸmurlu ${evetHayir([61,63,65].includes(ck))}</div>
    <div>ğŸŒ¦ï¸ SaÄŸanak ${evetHayir([80,81,82].includes(ck))}</div>
    <div>â„ï¸ KarlÄ± ${evetHayir([71,73,75,85,86].includes(ck))}</div>
    <div>ğŸŒ¨ï¸ Karla karÄ±ÅŸÄ±k ${evetHayir(ck===68)}</div>
    <div>ğŸ§Š Dolu ${evetHayir([96,99].includes(ck))}</div>
    <div>ğŸŒ¬ï¸ RÃ¼zgarlÄ± ${evetHayir(ws>=30)}</div>
    <div>ğŸŒªï¸ FÄ±rtÄ±nalÄ± ${evetHayir(ws>=60)}</div>
    <div>â›ˆï¸ GÃ¶k gÃ¼rÃ¼ltÃ¼lÃ¼ ${evetHayir([95,96,99].includes(ck))}</div>
    <div>ğŸŒ«ï¸ Sisli ${evetHayir([45,48].includes(ck))}</div>
  `;
});
</script>

</body>
</html>
